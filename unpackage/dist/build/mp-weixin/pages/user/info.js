(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/info"],{1692:function(t,e,n){"use strict";var i=n("5f69"),o=n.n(i);o.a},"42b7":function(t,e,n){"use strict";var i={tuiActionsheet:function(){return n.e("components/tui-actionsheet/tui-actionsheet").then(n.bind(null,"4920"))},tuiDatetime:function(){return n.e("components/tui-datetime/tui-datetime").then(n.bind(null,"ed51"))}},o=function(){var t=this,e=t.$createElement;t._self._c},a=[];n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}))},"5f69":function(t,e,n){},"8f8f":function(t,e,n){"use strict";n.r(e);var i=n("b148"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},b148:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(){n.e("components/tui-actionsheet/tui-actionsheet").then(function(){return resolve(n("4920"))}.bind(null,n)).catch(n.oe)},o=function(){n.e("components/tui-datetime/tui-datetime").then(function(){return resolve(n("ed51"))}.bind(null,n)).catch(n.oe)},a={components:{tuiActionsheet:i,tuiDatetime:o},data:function(){return{userInfo:{},value:[],showActionSheet:!1,tips:"选择您的性别",itemList:[{id:1,text:"男",color:"#2B2B2B"},{id:2,text:"女",color:"#2B2B2B"},{id:0,text:"不公开",color:"#2B2B2B"}],uploadImg:"",type:2,startYear:1980,endYear:2020,cancelColor:"#888",color:"#5677fc",setDateTime:"",unitTop:!1}},computed:{gender:function(){var t=this.userInfo.gender;switch(t){case 0:return"不公开";case 1:return"男";case 2:return"女"}}},onLoad:function(t){this.endYear=(new Date).getFullYear(),this.userInfo=this.$db.get("userinfo")||"",t.src&&(this.userInfo.avatar=t.src),t.tem&&(this.uploadImg=t.tem)},watch:{userInfo:{handler:function(t,e){this.userInfo=t},deep:!0}},methods:{showTimePicker:function(){this.$refs.dateTime.show()},change:function(t){var e=this.endYear-t.year;this.$set(this.userInfo,"age",e)},addressPickerChange:function(t){this.$set(this.userInfo,"province",t.detail.value[0]),this.$set(this.userInfo,"city",t.detail.value[1])},chooseImage:function(){var e=this;this.$http.uploadImage(1,(function(n,i){1==n.code?t.navigateTo({url:"./cropper?src=".concat(i)}):e.$common.errorToShow(n.msg)}))},itemClick:function(t){var e=t.index;this.$set(this.userInfo,"gender",this.itemList[e].id),this.closeActionSheet()},openActionSheet:function(){this.showActionSheet=!0},closeActionSheet:function(){this.showActionSheet=!1},confirmSave:function(){var e=this;t.showLoading({title:"保存中...",mask:!0});var n=this.userInfo,i=n.nickname,o=n.avatar,a=n.province,c=n.city,r=n.gender,s=n.age,u={nickname:i,avatar:o,province:a,city:c,gender:r,age:s};this.uploadImg&&(u.avatar=this.uploadImg),this.$http.postProfile(u,(function(n){t.hideLoading(),1==n.code?(t.showToast({icon:"success",title:"保存成功",mask:!0}),t.hideToast(),t.navigateTo({url:"/pages/home/home?page=user"})):e.$common.errorToShow(n.msg)}))}}};e.default=a}).call(this,n("543d")["default"])},ba73:function(t,e,n){"use strict";n.r(e);var i=n("42b7"),o=n("8f8f");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("1692");var c,r=n("f0c5"),s=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,"5cf1678a",null,!1,i["a"],c);e["default"]=s.exports},e92e:function(t,e,n){"use strict";(function(t){n("4475");i(n("66fd"));var e=i(n("ba73"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])}},[["e92e","common/runtime","common/vendor"]]]);