(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/info"],{2856:function(e,t,n){"use strict";var i=n("eec4"),o=n.n(i);o.a},"2e39":function(e,t,n){"use strict";n.r(t);var i=n("50f5"),o=n.n(i);for(var c in i)"default"!==c&&function(e){n.d(t,e,(function(){return i[e]}))}(c);t["default"]=o.a},"50f5":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){n.e("components/tui-actionsheet/tui-actionsheet").then(function(){return resolve(n("5bf9"))}.bind(null,n)).catch(n.oe)},o=function(){n.e("components/tui-datetime/tui-datetime").then(function(){return resolve(n("aeeb"))}.bind(null,n)).catch(n.oe)},c={components:{tuiActionsheet:i,tuiDatetime:o},data:function(){return{userInfo:{},value:[],showActionSheet:!1,tips:"选择您的性别",itemList:[{id:1,text:"男",color:"#2B2B2B"},{id:2,text:"女",color:"#2B2B2B"},{id:0,text:"不公开",color:"#2B2B2B"}],uploadImg:"",type:2,startYear:1980,endYear:2020,cancelColor:"#888",color:"#5677fc",setDateTime:"",unitTop:!1}},computed:{gender:function(){var e=this.userInfo.gender;switch(e){case 0:return"不公开";case 1:return"男";case 2:return"女"}}},onLoad:function(e){this.endYear=(new Date).getFullYear(),this.userInfo=this.$db.get("userinfo")||"",e.src&&(this.userInfo.avatar=e.src),e.tem&&(this.uploadImg=e.tem)},watch:{userInfo:{handler:function(e,t){this.userInfo=e},deep:!0}},methods:{showTimePicker:function(){this.$refs.dateTime.show()},change:function(e){var t=this.endYear-e.year;this.$set(this.userInfo,"age",t)},addressPickerChange:function(e){this.$set(this.userInfo,"province",e.detail.value[0]),this.$set(this.userInfo,"city",e.detail.value[1])},chooseImage:function(){var t=this;this.$http.uploadImage(1,(function(n,i){1==n.code?e.navigateTo({url:"./cropper?src=".concat(i)}):t.$common.errorToShow(n.msg)}))},itemClick:function(e){var t=e.index;this.$set(this.userInfo,"gender",this.itemList[t].id),this.closeActionSheet()},openActionSheet:function(){this.showActionSheet=!0},closeActionSheet:function(){this.showActionSheet=!1},confirmSave:function(){var t=this;e.showLoading({title:"保存中...",mask:!0});var n=this.userInfo,i=n.nickname,o=n.avatar,c=n.province,a=n.city,r=n.gender,s=n.age,u={nickname:i,avatar:o,province:c,city:a,gender:r,age:s};this.uploadImg&&(u.avatar=this.uploadImg),this.$http.postProfile(u,(function(n){e.hideLoading(),1==n.code?(e.showToast({icon:"success",title:"保存成功",mask:!0}),e.hideToast(),e.navigateTo({url:"/pages/home/home?page=user"})):t.$common.errorToShow(n.msg)}))}}};t.default=c}).call(this,n("543d")["default"])},5731:function(e,t,n){"use strict";n.r(t);var i=n("7fc5"),o=n("2e39");for(var c in o)"default"!==c&&function(e){n.d(t,e,(function(){return o[e]}))}(c);n("2856");var a,r=n("f0c5"),s=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,"55e684b0",null,!1,i["a"],a);t["default"]=s.exports},"7fc5":function(e,t,n){"use strict";var i={tuiActionsheet:function(){return n.e("components/tui-actionsheet/tui-actionsheet").then(n.bind(null,"5bf9"))},tuiDatetime:function(){return n.e("components/tui-datetime/tui-datetime").then(n.bind(null,"aeeb"))}},o=function(){var e=this,t=e.$createElement;e._self._c},c=[];n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return i}))},c3ce:function(e,t,n){"use strict";(function(e){n("7c16");i(n("66fd"));var t=i(n("5731"));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},eec4:function(e,t,n){}},[["c3ce","common/runtime","common/vendor"]]]);