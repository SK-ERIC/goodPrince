(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/info"],{"01b7":function(t,e,n){"use strict";var i=n("bf07"),o=n.n(i);o.a},"2e39":function(t,e,n){"use strict";n.r(e);var i=n("50f5"),o=n.n(i);for(var c in i)"default"!==c&&function(t){n.d(e,t,(function(){return i[t]}))}(c);e["default"]=o.a},"50f5":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(){n.e("components/tui-actionsheet/tui-actionsheet").then(function(){return resolve(n("5bf9"))}.bind(null,n)).catch(n.oe)},o=function(){n.e("components/tui-datetime/tui-datetime").then(function(){return resolve(n("aeeb"))}.bind(null,n)).catch(n.oe)},c={components:{tuiActionsheet:i,tuiDatetime:o},data:function(){return{userInfo:{},value:[],showActionSheet:!1,tips:"选择您的性别",itemList:[{id:1,text:"男",color:"#2B2B2B"},{id:2,text:"女",color:"#2B2B2B"},{id:0,text:"不公开",color:"#2B2B2B"}],uploadImg:"",type:2,startYear:1980,endYear:2020,cancelColor:"#888",color:"#5677fc",setDateTime:"",unitTop:!1}},computed:{gender:function(){var t=this.userInfo.gender;switch(t){case 0:return"不公开";case 1:return"男";case 2:return"女"}}},onLoad:function(t){this.endYear=(new Date).getFullYear(),this.userInfo=this.$db.get("userinfo")||"",t.src&&(this.userInfo.avatar=t.src),t.tem&&(this.uploadImg=t.tem)},watch:{userInfo:{handler:function(t,e){this.userInfo=t},deep:!0}},methods:{showTimePicker:function(){this.$refs.dateTime.show()},change:function(t){var e=this.endYear-t.year;this.$set(this.userInfo,"age",e)},addressPickerChange:function(t){this.$set(this.userInfo,"province",t.detail.value[0]),this.$set(this.userInfo,"city",t.detail.value[1])},chooseImage:function(){var e=this;this.$http.uploadImage(1,(function(n,i){1==n.code?t.navigateTo({url:"./cropper?src=".concat(i)}):e.$common.errorToShow(n.msg)}))},itemClick:function(t){var e=t.index;this.$set(this.userInfo,"gender",this.itemList[e].id),this.closeActionSheet()},openActionSheet:function(){this.showActionSheet=!0},closeActionSheet:function(){this.showActionSheet=!1},confirmSave:function(){var e=this;t.showLoading({title:"保存中...",mask:!0});var n=this.userInfo,i=n.nickname,o=n.avatar,c=n.province,a=n.city,r=n.gender,u=n.age,s={nickname:i,avatar:o,province:c,city:a,gender:r,age:u};this.uploadImg&&(s.avatar=this.uploadImg),this.$http.postProfile(s,(function(n){t.hideLoading(),1==n.code?(t.showToast({icon:"success",title:"保存成功",mask:!0}),setTimeout((function(){t.navigateTo({url:"/pages/home/home?page=user"}),t.hideToast()}),500)):e.$common.errorToShow(n.msg)}))}}};e.default=c}).call(this,n("543d")["default"])},5731:function(t,e,n){"use strict";n.r(e);var i=n("9791"),o=n("2e39");for(var c in o)"default"!==c&&function(t){n.d(e,t,(function(){return o[t]}))}(c);n("01b7");var a,r=n("f0c5"),u=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,"3dc1aff5",null,!1,i["a"],a);e["default"]=u.exports},9791:function(t,e,n){"use strict";var i={"tui-actionsheet":function(){return n.e("components/tui-actionsheet/tui-actionsheet").then(n.bind(null,"5bf9"))},"tui-datetime":function(){return n.e("components/tui-datetime/tui-datetime").then(n.bind(null,"aeeb"))}},o=function(){var t=this,e=t.$createElement;t._self._c},c=[];n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return i}))},bf07:function(t,e,n){},c3ce:function(t,e,n){"use strict";(function(t){n("7c16");i(n("66fd"));var e=i(n("5731"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])}},[["c3ce","common/runtime","common/vendor"]]]);